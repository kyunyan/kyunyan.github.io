# 인터넷 네트워크

> IP (인터넷 프로토콜)

1. 인터넷 프로토콜의 역활

- 지정한 IP 주소(IP Adddress) 에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달

IP 패킷 정보
출발지 IP, 목적지  IP, 기타

2. IP 프로토콜의 한계

- 비연결성
  패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
  ex) 서버에 ip에 컴퓨터가 꺼져잇다해도 패킷을 전송함.
- 비신뢰성
  중간에 패킷이 사라지면
  패킷이 순서대로 안오면
  1500 Byte 정도 되면 끊어서 보낸다.
- 프로그램 구분
  같은 IP를 사용하는 서버에서 통신하는 어플리케이션이 둘 이상이면?

IP 주소 부여

2. 노드 개체 유형

> TCP 

1. 인터넷 프로토콜의 스택의 4계층

어플리케이션 계층 - HTTP, FTP
전송계층 - TCP, UDP
인터넷 계층 - IP
네트워크 인터페이스 계층 - 랜카드, 랜드라이브

2. 프로토콜 계층

어플리케이션       웹 브라우저 , 네트워크 게임 , 채팅 프로그램
                                SOCKET 라이브러리

OS                  TCP, UDP
                    IP(Internet Protocol)

네트워크 인터페이스   LAN 드라이버
                    LAN 장비   

데이터를 Tcp로 씌우고 그다음에 IP로 씌운다.
네트워크 인터페이스 인터페이스를 통해 나갈때 이더넷 프레임이라는걸 포함해서 나간다.
lan 카드에 등록된 맥주소를 달고 나간다.

TCP / IP 패킷정보
ip 패킷 -> 출발지 IP , 목적지 IP, 기타
TCP 세크먼트 -> 출발지 PORT, 목적지 PORT , 전송 제어, 순서 , 검증정보
전송데이터

tcp 특징 
전송 제어 프로토콜 (Transmission Control Porotocol)
- 연결 지향 - TCP 3 way handshake (가상연결)

클라이언트 에서 server로 syn 이라는 메시지를 보낸다 . 
서버 에서 왓으면 ack 라는 메시지를 보내면서 syn 이라는 메시지를 클라이언트에 같이 보낸다.
그리고 클라이언트는 받앗으면 서버에 ack 라는 응답을 보낸다.

syn : 접속요청
ack : 요청수락

이렇게 했을때 3번 연결이 되고나서 클라이언트와 서버는 서로 연결이 됫구나 하고 신뢰할 수 있다

이렇게 연결이 되고 나면 데이터를 전달한다.

요즘은 마지막 ack 전송하면서 데이터도 같이 전송한다.
이렇게 연결이 된것이 가상연결이다.

- 데이터 전달 보증

클라이언트에서 서버로 데이터 전송을 하면 서버에서 클라이언트로 데이터를 잘받앗다는 메시지를 보내준다.

- 순서 보장

클라이언트에서 서버로 패킷 1, 패킷 2, 패킷 3 을 전달햇는데
서버에서 패킷1, 패킷 3 , 패킷 2 순서로 바뀌엇을때 

서버에서 패킷 2부터 다시보내 라고 클라이언트로 다시 전달한다.

- 신뢰할 수 있는 프로토콜
- 현재는 대부분 TCP 사용

> UDP
사용자 데이터그램 프로토콜(User Datagram Protocol)

하얀 도와지에 비유(기능이 거의 없음)
연결지향 - 3 way handshake x
데이터 전달 보증 x
순서 보장 x
데이터 전달 및 순서가 보장되지 않지만 , 단순하고 빠름
정리
IP와 거의 같다. PORT 체크섬 정도만 추가
에플리케이션 추가 작업 필요

1. 장점 
전송 속도가 빠르다
최근에는 UDP가 뜨고있다.

> PORT
한번에 둘 이상 연결해야 하면?
출발지 IP, 출발지 PORT , 목적지 IP , 목적지 PORT

PORT - 같은 IP 내에서 프로세스 구분

웹브라우저 100.100.100.1:10010 -> 데이터 보내면 -> 200.200.200.3:80 에서 데이터 받아서 -> 다시으 응답으로 -> 100.100.100.1:10010  으로 보내준다

0 ~ 65535 할당 가능
0 ~ 1023 : 잘 알려진 포트, 사용하지 않는 것이 좋음
http : 80 , https : 443
